import{a as w,S as v,i as m}from"./assets/vendor-b57c055c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();const E="42454875-eb3549610f297412779ff13b6";async function f(o,t){const s="https://pixabay.com/",n="api/",e={q:o,key:E,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t},r=`${s}${n}`;return(await w.get(r,{params:e})).data}const S=new v(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"}),$=document.getElementById("gallery");function g(o){const t=o.map(I).join("");$.insertAdjacentHTML("beforeend",t),S.refresh()}function I(o){const{webformatURL:t,largeImageURL:s,tags:n,likes:e,views:r,comments:a,downloads:b}=o;return`<li class="card">
    <a href=${s} > <img
      src="${t}"
      alt="${n}"
    /> </a>
    <ul class="gallery">
      <li class="li-text"><span>Comments</span><span>${a}</span></li>
      <li class="li-text"><span>Views</span><span>${r}</span></li>
      <li class="li-text"><span>Likes</span><span>${e}</span></li>
      <li class="li-text"><span>Download</span><span>${b}</span></li>
    </ul>
  </li>`}const u=document.querySelector("#search-form"),y=document.querySelector(".hide"),c=document.querySelector(".loader-more"),x=document.getElementById("gallery");let l="",i=1;const P=15;let d=0;console.log(u);u.addEventListener("submit",async o=>{if(o.preventDefault(),x.innerHTML="",l=u.elements.input.value,l===""){m.error({position:"center",title:"Error",message:"Sorry, this form can't be empty!"});return}h();try{i=1;const t=await f(l,i);d=t.totalHits,console.log(t),g(t.hits),p(),q()}catch(t){console.log(t),p()}L()});c.addEventListener("click",async()=>{h();try{i+=1;const o=await f(l,i);g(o.hits),p();const s=document.querySelector(".card").getBoundingClientRect().height;window.scrollBy({left:0,top:s*2,behavior:"smooth"})}catch(o){console.log(o),p()}L()});function h(){y.classList.remove("hide")}function p(){y.classList.add("hide")}function q(){u.reset()}function L(){if(console.log(d),d===0){c.classList.add("hide"),m.error({position:"center",title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});return}i*P>=d?(c.classList.add("hide"),m.info({position:"center",title:"Information",message:"We're sorry, but you've reached the end of search results."})):c.classList.remove("hide")}
//# sourceMappingURL=commonHelpers.js.map

{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"; \nimport \"izitoast/dist/css/iziToast.min.css\"; \nimport axios from \"axios\";\n\nconst API_KEY = '42454875-eb3549610f297412779ff13b6';\n \nexport async function fetchImages (searchImg){\n\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchImg}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n\ntry {\n  const response = await axios.get(url);\n\n    if (!response.data){\n      throw new Error ('');\n    }\n\n    const data = response.data;\n\n      if(data.hits.length > 0){\n        return data.hits\n      }\n      else {\n        iziToast.error({\n          position: \"center\",\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        return [];\n      }\n\n    } catch (error){\n      iziToast.error({\n        position: \"center\",\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!'\n      });\n\n      return [];\n    }\n    \n    }","\nimport SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom'\n\n});\nexport function renderGallery(images) {\n    const galleryContainer = document.getElementById('gallery');\n    galleryContainer.innerHTML = images.map(createImageCard).join('');\n\n    \n     lightbox.refresh();\n   \n  }\n  \n  function createImageCard(image) {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n  \n    return `<li class=\"card\">\n    <a href=${largeImageURL} > <img\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    /> </a>\n    <ul class=\"gallery\">\n      <li class=\"li-text\"><span>Comments</span><span>${comments}</span></li>\n      <li class=\"li-text\"><span>Views</span><span>${views}</span></li>\n      <li class=\"li-text\"><span>Likes</span><span>${likes}</span></li>\n      <li class=\"li-text\"><span>Download</span><span>${downloads}</span></li>\n    </ul>\n  </li>`\n\n  \n  } \n  \n\n\n\n\n\n// const renderImages = (images) => {\n//     const gallery = document.querySelector('.gallery');\n//     gallery.innerHTML = ''; \n    \n//     images.forEach((image) => {\n//       const imgElement = document.createElement('img');\n//       imgElement.src = image.previewURL;\n//       imgElement.alt = image.tags;\n//       gallery.appendChild(imgElement);\n//     });\n// };\n\n// const loadMoreBtn = document.querySelector('.load-more');\n\n// loadMoreBtn.addEventListener('click', function(event) {\n//     event.preventDefault(); \n    \n// });\n\n// const renderLoadMoreButton = (callback) => {\n//     const loadMoreBtn = document.querySelector('.load-more');\n//     loadMoreBtn.style.display = 'block'; \n//     loadMoreBtn.addEventListener('click', callback);\n// };\n  \n// const hideLoadMoreButton = () => {\n//     const loadMoreBtn = document.querySelector('.load-more');\n//     loadMoreBtn.style.display = 'none'; \n// };\n  \n// export { renderImages, renderLoadMoreButton, hideLoadMoreButton };","import {fetchImages} from './js/pixabay-api.js'\nimport {renderGallery} from './js/render-functions.js'\n\n\nconst formElem = document.querySelector(\"#search-form\");\nconst loader =  document.querySelector('.hide');\n\n\n\nformElem.addEventListener ('submit', async (e) => {\n    e.preventDefault();\n    const query = formElem.elements.input.value;\nshowLoader();\ntry{\n    const res = await fetchImages(query)\n       \n            renderGallery(res);\n            hideLoader();\n            clearForm();\n} catch (error){\n    console.error('Error fetchImages error', error);\n    hideLoader();\n}\n        \n}) \n\nfunction showLoader (){\nloader.classList.remove('hide');\n}\n\nfunction hideLoader (){\n    loader.classList.add('hide');\n}\n\nfunction clearForm () {\n    formElem.reset();\n}"],"names":["API_KEY","fetchImages","searchImg","url","response","axios","data","iziToast","lightbox","SimpleLightbox","renderGallery","images","galleryContainer","createImageCard","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formElem","loader","e","query","showLoader","res","hideLoader","clearForm","error"],"mappings":"owBAIA,MAAMA,EAAU,qCAET,eAAeC,EAAaC,EAAU,CAE3C,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAS,2DAGpE,GAAI,CACF,MAAME,EAAW,MAAMC,EAAM,IAAIF,CAAG,EAElC,GAAI,CAACC,EAAS,KACZ,MAAM,IAAI,MAAO,EAAE,EAGrB,MAAME,EAAOF,EAAS,KAEpB,OAAGE,EAAK,KAAK,OAAS,EACbA,EAAK,MAGZC,EAAS,MAAM,CACb,SAAU,SACV,MAAO,QACP,QAAS,0EACnB,CAAS,EACM,GAGV,MAAc,CACb,OAAAA,EAAS,MAAM,CACb,SAAU,SACV,MAAO,QACP,QAAS,0EACjB,CAAO,EAEM,EACR,CAEL,CCrCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,QAEnB,CAAC,EACM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAmB,SAAS,eAAe,SAAS,EAC1DA,EAAiB,UAAYD,EAAO,IAAIE,CAAe,EAAE,KAAK,EAAE,EAG/DL,EAAS,QAAO,CAElB,CAED,SAASK,EAAgBC,EAAO,CAC9B,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAEjF,MAAO;AAAA,cACGE,CAAa;AAAA,aACdD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA,uDAGsCG,CAAQ;AAAA,oDACXD,CAAK;AAAA,oDACLD,CAAK;AAAA,uDACFG,CAAS;AAAA;AAAA,QAK7D,CCjCH,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAU,SAAS,cAAc,OAAO,EAI9CD,EAAS,iBAAkB,SAAU,MAAOE,GAAM,CAC9CA,EAAE,eAAc,EAChB,MAAMC,EAAQH,EAAS,SAAS,MAAM,MAC1CI,IACA,GAAG,CACC,MAAMC,EAAM,MAAM1B,EAAYwB,CAAK,EAE3Bf,EAAciB,CAAG,EACjBC,IACAC,GACZ,OAASC,EAAM,CACX,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CF,GACJ,CAEA,CAAC,EAED,SAASF,GAAa,CACtBH,EAAO,UAAU,OAAO,MAAM,CAC9B,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,MAAM,CAC/B,CAEA,SAASM,GAAa,CAClBP,EAAS,MAAK,CAClB"}